<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>타이타닉 수치형 상관관계 히트맵 해석 보고서</title>
  <style>
    :root{
      --bg:#0b1020;
      --card:#111a33;
      --muted:#9fb0d0;
      --text:#e9eefc;
      --accent:#7aa2ff;
      --accent2:#34d399;
      --line:rgba(255,255,255,.08);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
      background: radial-gradient(1200px 600px at 20% 0%, rgba(122,162,255,.18), transparent 60%),
                  radial-gradient(900px 500px at 80% 10%, rgba(52,211,153,.12), transparent 55%),
                  var(--bg);
      color:var(--text);
      line-height:1.6;
    }
    a{color:var(--accent); text-decoration:none}
    a:hover{text-decoration:underline}

    .wrap{max-width: 1080px; margin:0 auto; padding: 28px 18px 60px;}

    header{
      position: sticky;
      top: 0;
      backdrop-filter: blur(10px);
      background: linear-gradient(to bottom, rgba(11,16,32,.85), rgba(11,16,32,.65));
      border-bottom: 1px solid var(--line);
      z-index: 20;
    }
    .nav{
      max-width:1080px;
      margin:0 auto;
      padding: 14px 18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight: 800;
      letter-spacing:-.02em;
    }
    .logo{
      width:36px; height:36px;
      border-radius: 12px;
      background: linear-gradient(135deg, rgba(122,162,255,.95), rgba(52,211,153,.9));
      box-shadow: 0 10px 20px rgba(0,0,0,.25);
    }
    .brand small{display:block; color:var(--muted); font-weight:600; margin-top:2px;}

    .chips{display:flex; flex-wrap:wrap; gap:8px; justify-content:flex-end;}
    .chip{
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      color: var(--muted);
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      white-space: nowrap;
    }

    .hero{
      margin-top: 24px;
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 16px;
      align-items: stretch;
    }
    @media (max-width: 900px){
      .hero{grid-template-columns:1fr;}
    }
    .card{
      background: linear-gradient(180deg, rgba(17,26,51,.92), rgba(17,26,51,.78));
      border: 1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px 18px;
    }
    .card h1{
      margin: 0 0 8px;
      font-size: 28px;
      letter-spacing:-.03em;
    }
    .subtitle{color:var(--muted); margin:0}

    .kpis{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin-top: 14px;
    }
    @media (max-width: 520px){
      .kpis{grid-template-columns:1fr;}
    }
    .kpi{
      border:1px solid var(--line);
      background: rgba(255,255,255,.03);
      border-radius: 16px;
      padding: 12px;
    }
    .kpi .label{color:var(--muted); font-size:12px}
    .kpi .value{font-size: 20px; font-weight: 800; margin-top: 4px;}

    .toc{
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .toc a{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.03);
      color: var(--text);
    }
    .toc a span{color:var(--muted); font-size: 12px}

    section{margin-top: 18px;}
    section .card{padding: 20px;}
    h2{
      margin: 0 0 10px;
      font-size: 20px;
      letter-spacing:-.02em;
    }
    h3{margin: 16px 0 8px; font-size: 16px;}

    .note{
      padding: 12px 14px;
      border-left: 3px solid var(--accent);
      background: rgba(122,162,255,.08);
      border-radius: 14px;
      color: var(--text);
      margin: 12px 0;
    }

    .grid2{display:grid; grid-template-columns: 1fr 1fr; gap: 12px;}
    @media (max-width: 900px){ .grid2{grid-template-columns:1fr;} }

    .table{
      width:100%;
      border-collapse: separate;
      border-spacing: 0;
      overflow:hidden;
      border-radius: 16px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.02);
    }
    .table th, .table td{
      padding: 10px 10px;
      border-bottom: 1px solid var(--line);
      text-align:left;
      vertical-align:top;
      font-size: 14px;
    }
    .table th{color: var(--muted); font-weight: 700; background: rgba(255,255,255,.03);}
    .table tr:last-child td{border-bottom:none;}

    .badge{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.04);
      color: var(--muted);
      font-size: 12px;
      margin-left: 8px;
    }
    .dot{width:8px; height:8px; border-radius:50%; background: var(--accent2);}

    .callout{
      display:flex;
      gap: 12px;
      align-items:flex-start;
      padding: 14px;
      border-radius: 16px;
      border: 1px solid var(--line);
      background: rgba(52,211,153,.07);
    }
    .callout strong{display:block; margin-bottom: 4px;}

    footer{
      margin-top: 28px;
      color: var(--muted);
      text-align:center;
      font-size: 12px;
    }

    /* print */
    @media print{
      header{position: static; backdrop-filter:none;}
      body{background:#fff; color:#000;}
      .card{box-shadow:none; background:#fff; border:1px solid #ddd;}
      .chip, .badge{border:1px solid #ddd; background:#f5f5f5; color:#333;}
      .note{background:#f0f6ff;}
    }
  </style>
</head>
<body>
  <header>
    <div class="nav">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          타이타닉 EDA
          <small>수치형 상관관계 히트맵(피어슨) 해석</small>
        </div>
      </div>
      <div class="chips">
        <div class="chip">데이터: titanic (전처리: Age 평균대치, Sex 최빈값 대치)</div>
        <div class="chip">지표: Pearson Correlation</div>
        <div class="chip">범위: -1 ~ 1</div>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="hero">
      <div class="card">
        <h1>수치형 상관관계 히트맵 해석 보고서</h1>
        <p class="subtitle">
          히트맵은 수치형 변수들 간 <b>선형 관계</b>를 요약합니다. 값이 <b>1</b>에 가까울수록 강한 양의 상관,
          <b>-1</b>에 가까울수록 강한 음의 상관, <b>0</b>에 가까울수록 선형 상관이 거의 없습니다.
        </p>

        <div class="kpis" role="list">
          <div class="kpi" role="listitem">
            <div class="label">핵심 관계</div>
            <div class="value">Pclass ↔ Fare: -0.58</div>
          </div>
          <div class="kpi" role="listitem">
            <div class="label">연령-등급 관계</div>
            <div class="value">Pclass ↔ Age: -0.44</div>
          </div>
          <div class="kpi" role="listitem">
            <div class="label">가족 변수 관계</div>
            <div class="value">SibSp ↔ Parch: 0.31</div>
          </div>
        </div>

        <div class="note">
          <b>주의:</b> 피어슨 상관은 <b>선형</b>만 포착합니다. “어린이/노약자 보호”처럼 <b>비선형</b> 패턴은
          상관계수에서 약하게 보일 수 있습니다.
        </div>
      </div>

      <div class="card">
        <h2>목차 <span class="badge"><span class="dot"></span> 빠른 이동</span></h2>
        <nav class="toc">
          <a href="#rule">1. 해석 기준 <span>상관계수 읽는 법</span></a>
          <a href="#strong">2. 강한 관계 <span>Pclass-Fare 등</span></a>
          <a href="#family">3. 가족 변수 <span>SibSp-Parch</span></a>
          <a href="#survive">4. 생존과의 관계 <span>Survived 연관</span></a>
          <a href="#summary">5. 요약 & 다음 단계 <span>추천 분석</span></a>
        </nav>
      </div>
    </div>

    <section id="rule">
      <div class="card">
        <h2>1) 전체적인 해석 기준</h2>
        <ul>
          <li><b>1.0 / -1.0</b>에 가까울수록 강한 상관</li>
          <li><b>0</b>에 가까울수록 선형 상관 거의 없음</li>
          <li>피어슨 상관은 <b>선형 관계</b>만 반영 (비선형/임계점 효과는 약하게 표시될 수 있음)</li>
        </ul>
      </div>
    </section>

    <section id="strong">
      <div class="card">
        <h2>2) 가장 강한 상관관계들 (핵심 포인트)</h2>

        <h3>Pclass ↔ Fare : <span class="badge">-0.58</span></h3>
        <p>
          객실 등급 숫자가 <b>낮을수록(1등급)</b> 요금이 <b>높아지는</b> 경향이 있습니다.
          Titanic 데이터에서 가장 대표적인 구조이며, 사실상 두 변수는 같은 축(사회·경제적 지위)을 공유합니다.
        </p>
        <div class="callout">
          <div>
            <strong>모델링 팁</strong>
            Pclass와 Fare를 동시에 넣으면 <b>중복 정보(공선성)</b> 가능성이 있습니다.
          </div>
        </div>

        <h3>Pclass ↔ Age : <span class="badge">-0.44</span></h3>
        <p>
          상위 등급(1등급)에 <b>상대적으로 나이가 많은 승객</b>이 더 많은 경향입니다.
          경제력/사회적 지위와 연령이 연결된 패턴으로 해석할 수 있습니다.
        </p>

        <h3>Age ↔ Fare : <span class="badge">0.33</span></h3>
        <p>
          나이가 많을수록 <b>비싼 티켓</b>을 구매하는 경향이 보이지만, 매우 강한 관계는 아닙니다.
        </p>
      </div>
    </section>

    <section id="family">
      <div class="card">
        <h2>3) 가족 변수 간 관계</h2>
        <h3>SibSp ↔ Parch : <span class="badge">0.31</span></h3>
        <p>
          형제/배우자(SibSp)가 많을수록 부모/자녀(Parch)도 함께 있을 가능성이 커서,
          <b>가족 단위 탑승</b>이 존재함을 시사합니다.
        </p>
        <div class="note">
          실무 팁: <b>FamilySize = SibSp + Parch + 1</b> 파생 변수를 만들면 가족 효과를 더 직관적으로 분석할 수 있습니다.
        </div>
      </div>
    </section>

    <section id="survive">
      <div class="card">
        <h2>4) 생존(Survived)과의 관계</h2>

        <div class="grid2">
          <div>
            <h3>Survived ↔ Fare : <span class="badge">0.19</span></h3>
            <p>
              요금이 높을수록 생존 확률이 <b>약간</b> 높아지는 경향이 있습니다.
              다만 상관은 약하며, 다른 변수(등급/성별 등)와 함께 봐야 합니다.
            </p>

            <h3>Survived ↔ Parch : <span class="badge">0.16</span></h3>
            <p>
              부모/자녀 동반이 있는 경우 생존률이 약간 높을 수 있습니다.
            </p>
          </div>

          <div>
            <h3>Survived ↔ SibSp : <span class="badge">0.10</span></h3>
            <p>
              매우 약한 양의 상관으로, 단독 효과는 크지 않습니다.
            </p>

            <h3>Survived ↔ Age : <span class="badge">≈ 0</span></h3>
            <p>
              나이와 생존 간의 <b>선형 관계는 거의 없음</b>을 의미합니다.
              어린이/노약자 보호 같은 비선형 패턴은 별도 분석(구간화, 박스플롯)으로 확인하는 것이 좋습니다.
            </p>
          </div>
        </div>

        <div class="callout" style="margin-top:12px;">
          <div>
            <strong>중요 포인트</strong>
            상관계수가 낮다고 영향이 없다고 단정할 수는 없습니다. 특히 Titanic에서는 <b>범주형 변수(Sex)</b>와
            <b>조합 효과(Pclass×Sex)</b>가 매우 중요할 수 있습니다.
          </div>
        </div>
      </div>
    </section>

    <section id="summary">
      <div class="card">
        <h2>5) 요약 & 다음 단계</h2>

        <table class="table" aria-label="핵심 관계 요약표">
          <thead>
            <tr>
              <th>관계</th>
              <th>상관계수</th>
              <th>해석</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Pclass – Fare</td>
              <td>-0.58</td>
              <td>등급이 낮을수록(1등급) 요금이 높음 → 같은 축(지위/경제력) 공유</td>
            </tr>
            <tr>
              <td>Pclass – Age</td>
              <td>-0.44</td>
              <td>상위 등급에 고령 승객 비중이 더 큼</td>
            </tr>
            <tr>
              <td>Age – Fare</td>
              <td>0.33</td>
              <td>나이 증가와 요금 증가가 함께 나타나는 경향(중간 수준)</td>
            </tr>
            <tr>
              <td>SibSp – Parch</td>
              <td>0.31</td>
              <td>가족 동반 구조 존재 → FamilySize 파생 추천</td>
            </tr>
            <tr>
              <td>Survived – Fare</td>
              <td>0.19</td>
              <td>요금이 높을수록 생존이 약간 증가(약한 신호)</td>
            </tr>
            <tr>
              <td>Survived – Age</td>
              <td>≈ 0</td>
              <td>선형 관계는 거의 없음(비선형/구간 효과는 별도 확인 필요)</td>
            </tr>
          </tbody>
        </table>

        <h3>추천 다음 분석</h3>
        <ul>
          <li><b>스피어만 상관 히트맵</b> 추가(순위 기반, 이상치/비선형에 더 강함)</li>
          <li><b>log1p(Fare)</b> 변환 후 재확인(왜도 완화)</li>
          <li><b>FamilySize</b> 파생(가족 효과를 단일 변수로 요약)</li>
          <li><b>Age 구간화(AgeBand)</b> 후 생존률 비교(비선형 패턴 확인)</li>
          <li>중요 범주형(<b>Sex</b>) 포함한 다변량 분석(교차표/모델링)</li>
        </ul>
      </div>
    </section>

    <footer>
      <p>© Titanic EDA Report • HTML/CSS 단일 파일 • 인쇄(PDF 저장) 지원</p>
    </footer>
  </main>
</body>
</html>
